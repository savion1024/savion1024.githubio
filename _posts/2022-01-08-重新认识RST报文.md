---
layout:     post
title:      重新认识RST
subtitle:   抓包一探
date:       2022-01-08
author:     savion
header-img: img/post-bg-cook.jpg
catalog: true
tags:
- 计算机网络
---


## 从标志位说起

TCP中有五个常见的标志位，也叫flag，在抓包的时候经常遇到

- F : FIN - 结束; 结束会话
- S : SYN - 同步; 表示开始会话请求
- R : RST - 复位;中断一个连接
- P : PUSH - 推送; 数据包立即发送
- A : ACK - 应答

相比RST，FIN,SYN,ACK 是我们更为熟知的标志位，他们的作用也非常明确。但是在抓包的过程中如果遇到RST，那么代表着什么呢


## 分情况讨论

RST:（Reset the connection）意为重置连接，用于复位因某种原因引起出现的错误连接，也用来拒绝非法数据和请求。当接收到RST位时候，通常发生了某些错误。
以下是几种情况


- 不知道对方的IP地址：在尝试连接一个不存在的IP地址时，TCP会发送一个带有RST标志位的报文段，以通知发送端对方不可达。

- 无法识别的TCP连接：当收到无法识别的TCP连接请求或数据时，TCP会发送一个带有RST标志位的报文段，以告诉发送端连接不可用。

- 防火墙或其他安全设备拦截：当防火墙或其他安全设备检测到不安全的TCP连接或数据时，它们可能会发送一个带有RST标志位的报文段，以终止连接。

- 重置TCP连接：当TCP连接出现问题时，任何一方都可以发送一个带有RST标志位的报文段来重置连接。这可能发生在连接超时、TCP序列号溢出或其他异常情况下。


## 总结
- RST可以用来快速终结一个tcp连接,出现RST的时候 缓存Buffer的数据会被丢弃，这有助于提高效率




